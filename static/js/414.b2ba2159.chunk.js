"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[414],{6600:function(t,n,r){r.d(n,{Pg:function(){return f},XT:function(){return p},qF:function(){return h},tx:function(){return l},zv:function(){return v}});var e=r(5861),u=r(7757),a=r.n(u),c=r(4569),i=r.n(c),s="https://api.themoviedb.org/3",o="f895f2516a047e2a437ac29e4da65e26",p=function(){var t=(0,e.Z)(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("".concat(s).concat("/trending/movie/day"),{params:{api_key:o}});case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,e.Z)(a().mark((function t(n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("".concat(s,"/movie/").concat(n),{params:{api_key:o}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),v=function(){var t=(0,e.Z)(a().mark((function t(n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("".concat(s,"/movie/").concat(n,"/credits"),{params:{api_key:o}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),l=function(){var t=(0,e.Z)(a().mark((function t(n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("".concat(s,"/movie/").concat(n,"/reviews"),{params:{api_key:o}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),h=function(){var t=(0,e.Z)(a().mark((function t(n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("".concat(s,"/search/movie"),{params:{api_key:o,query:n}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},6368:function(t,n,r){r.d(n,{O:function(){return c}});var e=r(470),u=r(6731),a=r(184),c=function(t){var n=t.items,r=(0,e.TH)();return(0,a.jsx)("main",{children:(0,a.jsx)("ul",{children:n.map((function(t){var n=t.id,e=t.title,c=t.original_title;return(0,a.jsx)("li",{children:(0,a.jsx)(u.OL,{to:"/movies/".concat(n),state:{from:r},children:e||c})},n)}))})})}},9414:function(t,n,r){r.r(n),r.d(n,{default:function(){return m}});var e=r(5861),u=r(885),a=r(7757),c=r.n(a),i=r(2791),s=r(6731),o=r(6600),p=r(5067),f=r(5705),v=r(184),l=function(t){var n=t.onSubmit;return(0,v.jsx)(f.J9,{initialValues:{input:""},onSubmit:function(t,r){n(t),r.resetForm()},children:(0,v.jsx)("section",{children:(0,v.jsxs)(f.l0,{children:[(0,v.jsx)(f.gN,{type:"text",name:"input"}),(0,v.jsx)("button",{type:"submit",children:"Search"})]})})})},h=r(6368),m=function(){var t=(0,i.useState)(null),n=(0,u.Z)(t,2),r=n[0],a=n[1],f=(0,i.useState)(!1),m=(0,u.Z)(f,2),d=m[0],x=m[1],w=(0,i.useState)(null),y=(0,u.Z)(w,2),k=y[0],b=y[1],g=(0,s.lr)(),j=(0,u.Z)(g,2),_=j[0],Z=j[1],S=_.get("query");return(0,i.useEffect)((function(){var t=function(){var t=(0,e.Z)(c().mark((function t(){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),t.next=4,(0,o.qF)(S);case 4:if(n=t.sent,0!==(r=n.data).results.length||""!==S.trim()){t.next=8;break}return t.abrupt("return");case 8:a(r.results),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),b(t.t0);case 14:return t.prev=14,x(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(){return t.apply(this,arguments)}}();return S&&t(),function(){a(null),b(null)}}),[S]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l,{onSubmit:function(t){var n=t.input.trim();Z(""!==n?{query:n}:{})}}),k&&(0,v.jsxs)("div",{children:["Sorry, no movies were found with the name ",S,"."]}),r&&(0,v.jsx)(h.O,{items:r}),d&&(0,v.jsx)(p.a,{})]})}}}]);
//# sourceMappingURL=414.b2ba2159.chunk.js.map